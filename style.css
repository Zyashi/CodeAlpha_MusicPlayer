:root{
  --bg: #0b1020;
  --panel: rgba(255,255,255,0.06);
  --panel-2: rgba(255,255,255,0.10);
  --text: #eaf2ff;
  --muted:#a9b4c7;
  --accent:#7aa2ff;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Arial}
button,input,select{font:inherit;color:inherit;background:none;border:none;outline:none}

.player{
  --shadow: 0 20px 60px rgba(0,0,0,0.45);
  position:relative;
  max-width:980px;
  margin:24px auto;
  padding:16px;
  border-radius:18px;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  backdrop-filter: blur(8px);
  box-shadow: var(--shadow);
  overflow:hidden;
}

.topbar{display:flex;align-items:center;gap:12px;padding:8px 10px 14px}
.brand{font-weight:700;letter-spacing:.3px}
.spacer{flex:1}
.toggle{display:flex;align-items:center;gap:8px;opacity:.9}
.toggle input{accent-color:var(--accent)}
.mini-btn{border:0;border-radius:10px;background:var(--panel);padding:8px 10px;cursor:pointer}
.mini-btn:hover{background:var(--panel-2)}

.main{display:grid;grid-template-columns:360px 1fr;gap:20px}
@media (max-width:900px){.main{grid-template-columns:1fr}}
.cover-wrap{position:relative;background:var(--panel);border-radius:16px;overflow:hidden;display:flex;align-items:center;justify-content:center}
.cover-wrap img{width:100%;height:100%;object-fit:cover;display:block;aspect-ratio:1/1}
#visualizer{position:absolute;left:0;right:0;bottom:0;width:100%;height:auto;opacity:.95}

.meta{display:flex;flex-direction:column;gap:14px}
.titles .title{font-weight:700;font-size:1.4rem;line-height:1.2}
.titles .artist{color:var(--muted)}

.controls{display:flex;align-items:center;gap:12px}
.controls button{
  border:0;
  border-radius:12px;
  background:var(--panel);
  padding:10px 14px;
  cursor:pointer;
  font-size:1rem;
  line-height:1;
}
.controls button:hover{background:var(--panel-2)}
.controls #playBtn{font-size:1.2rem;padding:12px 18px}

.timeline{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:10px}
.time{font-variant-numeric:tabular-nums;color:var(--muted)}
.bar{height:9px;background:rgba(255,255,255,0.14);border-radius:999px;position:relative;cursor:pointer;overflow:hidden}
.progress{height:100%;width:0;background:linear-gradient(90deg,var(--accent),#b388ff);border-radius:999px}

.vol-row{display:flex;align-items:center;gap:10px}
.vol-label{opacity:.8}
#volume{width:160px}

.lists{display:grid;grid-template-columns:220px 1fr;gap:14px;align-items:start}
@media (max-width:900px){.lists{grid-template-columns:1fr}}
.sel{display:flex;flex-direction:column;gap:6px}
select{background:var(--panel);border:0;border-radius:10px;padding:8px}
.tracks{margin:0;padding:0;list-style:none;max-height:260px;overflow:auto;border:1px solid rgba(255,255,255,0.08);border-radius:12px}
.tracks li{display:flex;gap:10px;align-items:center;padding:10px 12px;border-bottom:1px solid rgba(255,255,255,0.06);cursor:pointer}
.tracks li:last-child{border-bottom:0}
.tracks li:hover{background:rgba(255,255,255,0.06)}
.tracks li.active{background:rgba(122,162,255,0.18)}
.track-title{font-weight:600}
.track-artist{color:var(--muted);font-size:.92rem}
.track-dur{margin-left:auto;color:var(--muted);font-variant-numeric:tabular-nums}

/* Mini-player mode */
.player.mini{
  width:320px;max-width:92vw;position:fixed;right:18px;bottom:18px;z-index:9999;
  cursor:grab; user-select:none;
}
.player.mini .topbar{padding:8px}
.player.mini .main{grid-template-columns:84px 1fr}
.player.mini .cover-wrap{border-radius:12px}
.player.mini .titles .title{font-size:1rem}
.player.mini .lists{display:none}
.player.mini #visualizer{display:none}
.player.mini .timeline .time{display:none}
.player.mini .timeline{grid-template-columns:1fr}
.player.mini .bar{height:7px}
.player.mini .vol-row{display:none}
.player.mini .mini-btn{background:var(--panel-2)}

/* Dynamic background glow from album art */
body.dynamic-bg{
  transition: background 300ms ease;
}
